!function(n,r){"function"==typeof define&&define.amd?define(["exports"],r):r("undefined"!=typeof exports?exports:n.naturalScroll={})}(this,function(n){var r=20,t=600,a=null,e="addEventListener",o=Math,i="scrollTop",f="scrollLeft",l=function(n){var t=[[0,0,0,0,0,0]],e=0,i=a;this.s=function(l,u){var c=Math.floor(u/r),s=t[e];if(i!==a){var v=t[0][0],p=s[0],h=p-v,d=o.abs(h/e);if(d>0){var m=o.abs(o.round((l-p)/d));c=o.max(5,o.min(c,m))}}if(t=f(s[0],s[1],s[2],l,c),e=0,!i){var x=function(){var r=t[e++][0];n(r),e==t.length&&(clearInterval(i),i=a,t=[[r,0,0,0,0,0]],e=0)};i=setInterval(x,r)}},this.up=function(n){i===a&&(t[e][0]=n)};var f=function(n,r,t,a,e){var o,i,f,l=e,u=l*l,c=u*l,s=c*l,v=s*l;o=-(9*t*u+(36*r-9*t)*l-36*r+60*n-60*a)/(c-l),i=(36*t*u+(192*r-36*t)*l-192*r+360*n-360*a)/(s+2*c-u-2*l),f=-(60*t*u+(360*r-60*t)*l-360*r+720*n-720*a)/(v+5*s+5*c-5*u-6*l);var p,h,d,m,x=[[n,r,t,o,i,f]];for(d=0;e>d;d++){for(p=x[x.length-1],h=[0,0,0,0,0,f],m=4;m>=0;m--)h[m]=h[m+1]+p[m];x.push(h)}return x}},u={t:[],l:[]},c=function(n){return function(r,o,c){c=c||t,r=r.scroller||r;for(var s=a,v=u[n?"t":"l"],p=n?i:f,h=0;h<v.length;h++)if(v[h].elem==r){s=v[h];break}if(!s){var d=function(n){r[p]=n};s={elem:r,animator:new l(d)},r[e]("scroll",function(){s.animator.up(r[p])},0),s.animator.up(r[p]),v.push(s)}s.animator.s(o,c)}};n[i]=c(!0),n[f]=c(!1)});