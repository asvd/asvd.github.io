!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e.viewport={})}(this,function(e){var t=[],o=50,r="viewport",n="EventListener",i="add"+n,f="remove"+n,l="getBoundingClientRect",s="top",v="bottom",a="left",p="right",d="Top",c="Middle",u="Bottom",m="Left",g="Center",h="Right",b="Scroll",y="Target",w=b+d+y,k=b+m+y,x="scroll",B="resize",C="length",N=window,E=document,L=Math.min,M=function(){var e,n,b,y,M,R,S,T,z,j;for(e=0;e<t[C];e++)R=t[e].v.vpl,t[e].v[f](x,R,0),N[f](B,R,0);for(t=[],j=E.getElementsByClassName("section"),e=0;e<j[C];e++){for(T=S=j[e];;){if(y=0,b=T==E.body,!b)for(M=T.className.split(" "),n=0;n<M[C];n++)if(M[n]==r){y=1;break}if(b||y){T=T.scroller||T;break}T=T.parentNode}for(z=null,n=0;n<t[C];n++)if(t[n].v==T){z=t[n];break}z||(z={v:T,s:[]},T.vpl=function(e){return function(){for(var t=e.v,n=0;n<e.s[C];n++){var i=e.s[n],f=t[l](),b=i[l](),y=b[v]-b[s],B=b[p]-b[a],N=(f[v]+f[s])/2,E=(f[a]+f[p])/2,M=(b[v]+b[s])/2,R=(b[a]+b[p])/2,S=f[s]-b[s],T=f[a]-b[a];i[r+d]=S/y,i[r+c]=(N-b[s])/y,i[r+u]=(f[v]-b[s])/y,i[r+m]=T/B,i[r+g]=(E-b[a])/B,i[r+h]=(f[p]-b[a])/B,i[r+w]=t[x+d]+L(M-N,-S-o),i[r+k]=t[x+m]+L(R-E,-T-o)}}}(z),T[i](x,z.v.vpl,0),N[i](B,z.v.vpl,0),t.push(z)),z.s.push(S)}for(e=0;e<t[C];e++)z.v.vpl()};"complete"==E.readyState?M():N[i]("load",M,0),e.reset=M});